---
basepath: "/"

paths:
    "/users":
        post:
            tags:
                - users
            consumes:
                - application/json
            parameters:
                - in: body
                  name: user
                  schema:
                    type: object
                    required:
                        - email
                        - name
                        - password
                    properties:
                        email:
                            type: string
                        name:
                            type: string
                        password:
                            type: string
            produces:
                - application/json
            responses:
                201:
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"

        get:
            tags:
                - users
            consumes:
                - application/json
            produces:
                - application/json
            responses:
                200:
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"

    "/users/login":
        post:
            tags:
                - users
            consumes:
                - application/json
            parameters:
                - in: body
                  name: user
                  schema:
                    type: object
                    required:
                        - email
                        - password
                    properties:
                        email:
                            type: string
                        password:
                            type: string
            produces:
                - application/json
            responses:
                200:
                    description: "success"
                400:
                    description: "bad request"
                401:
                    description: "failed login"
    
    "/organisations":
        post:
            tags:
                - organisations
            consumes:
                - application/json
            parameters:
                - in: body
                  name: organisation
                  schema:
                    type: object
                    required:
                        - name
                    properties:
                        name:
                            type: string
                    
            produces:
                - application/json
            responses:
                201:
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    descriptiom: "Internal Server Error"

        get:
            tags:
                - organisations
            consumes:
                - application/json
            produces:
                - application/json
            responses:
                200:
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"

    "/clusters":
        post:
            tags:
                - clusters
            consumes:
                - application/json
            parameters:
                - in: body
                  name: cluster
                  schema:
                    type: object
                    required:
                        - name
                        - host
                        - token
                    properties:
                        name:
                            type: string
                        host:
                            type: string
                        token:
                            type: string
            produces:
                - application/json
            responses:
                201: 
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"
        get:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            responses:
                200:
                    description: "A list of clusters"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"
        
    "/clusters/{cluster_id}":
        get:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: string

            responses:
                200:
                    description: "A single cluster"
                404:
                    description: "Cluster not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"

        patch:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: string

                - in: body
                  name: cluster_update
                  schema:
                    type: object
                    properties:
                        name:
                            type: string
                        host:
                            type: string
                        token:
                            type: string
            responses:
                200:
                    description: "Success"
                404:
                    description: "Cluster not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"

        delete:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: string

            responses:
                200:
                    description: "Success"
                404:
                    description: "Cluster not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"

    "/clusters/{cluster_id}/namespaces":
        get:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: string

            responses:
                200:
                    description: "Returns a list of namespaces"
                404:
                    description: "Cluster not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error" 

    "/clusters/{cluster_id}/namespaces/{namespace_name}":
        get:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: string
                - in: path
                  name: namespace_name
                  required: true
                  type: string

            responses:
                200:
                    description: "A namespace"
                404:
                    description: "Not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error" 
    
    "/clusters/{cluster_id}/nodes":
        get:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: string

            responses:
                200:
                    description: "Returns a list of nodes"
                404:
                    description: "Cluster not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"

    "/clusters/{cluster_id}/nodes/{node_name}":
        get:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: string
                - in: path
                  name: node_name
                  required: true
                  type: string

            responses:
                200:
                    description: "A node"
                404:
                    description: "Not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"
            

    "/clusters/{cluster_id}/deployments":
        get:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: string

            responses:
                200:
                    description: "Returns a list of deployments"
                404:
                    description: "Cluster not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"

    "/clusters/{cluster_id}/deployments/{namespace_name}/{deployment_name}":
        get:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: string
                - in: path
                  name: namespace_name
                  required: true
                  type: string
                - in: path
                  name: deployment_name
                  required: true
                  type: string

            responses:
                200:
                    description: "A deployment"
                404:
                    description: "Not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"

    "/clusters/{cluster_id}/pvcs":
        get:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: string

            responses:
                200:
                    description: "Returns a list of PVCs"
                404:
                    description: "Cluster not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"

    "/clusters/{cluster_id}/pvcs/{namespace_name}/{pvc_name}":
        get:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: string
                - in: path
                  name: namespace_name
                  required: true
                  type: string
                - in: path
                  name: pvc_name
                  required: true
                  type: string

            responses:
                200:
                    description: "A PVC"
                404:
                    description: "Not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"


    "/clusters/{cluster_id}/pvs":
        get:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: string

            responses:
                200:
                    description: "Returns a list of PVs"
                404:
                    description: "Cluster not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"

    "/clusters/{cluster_id}/pvs/{pv_name}":
        get:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: string
                - in: path
                  name: pv_name
                  required: true
                  type: string

            responses:
                200:
                    description: "A PV"
                404:
                    description: "Not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"


    "/clusters/{cluster_id}/pods":
        get:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: string

            responses:
                200:
                    description: "Returns a list of pods"
                404:
                    description: "Cluster not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"

    "/clusters/{cluster_id}/pods/{namespace_name}/{pod_name}":
        get:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: string
                - in: path
                  name: namespace_name
                  required: true
                  type: string
                - in: path
                  name: pod_name
                  required: true
                  type: string

            responses:
                200:
                    description: "A Pod"
                404:
                    description: "Not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"


    "/clusters/{cluster_id}/services":
        get:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: string

            responses:
                200:
                    description: "Returns a list of services"
                404:
                    description: "Cluster not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"

                    
    "/clusters/{cluster_id}/services/{namespace_name}/{service_name}":
        get:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: string
                - in: path
                  name: namespace_name
                  required: true
                  type: string
                - in: path
                  name: service_name
                  required: true
                  type: string

            responses:
                200:
                    description: "A service"
                404:
                    description: "Not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"



    "/clusters/{cluster_id}/jobs":
        get:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: integer

            responses:
                200:
                    description: "Returns a list of jobs"
                404:
                    description: "Cluster not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"

                    
    "/clusters/{cluster_id}/jobs/{namespace_name}/{job_name}":
        get:
            tags:
                - clusters
            consumes:
                - application/json
            produces:
                - application/json
            parameters:
                - in: path
                  name: cluster_id
                  required: true
                  type: integer
                - in: path
                  name: namespace_name
                  required: true
                  type: string
                - in: path
                  name: job_name
                  required: true
                  type: string

            responses:
                200:
                    description: "A job"
                404:
                    description: "Not found"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"



    "/roles":
        post:
            tags:
                - roles
            consumes:
                - application/json
            parameters:
                - in: body
                  name: role
                  schema:
                    type: object
                    required:
                        - name
                    properties:
                        name:
                            type: string
            produces:
                - application/json
            responses:
                201:
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    descriptiom: "Internal Server Error"
        
        get:
            tags:
                - roles
            consumes:
                - application/json
            produces:
                - application/json
            responses:
                200:
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"

    "/roles/{role_id}":
        get:
            tags:
                - roles
            consumes:
                - application/json
            parameters:
                - in: path
                  name: role_id
                  required: true
                  type: string
            
            produces:
                - application/json
            responses:
                200:
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"
        patch:
            tags:
                - roles
            consumes:
                - application/json
            parameters:
                - in: path
                  name: role_id
                  required: true
                  type: string

                - in: body
                  name: role
                  schema:
                    type: object
                    required:
                        - name
                    properties:
                        name:
                            type: string
            produces:
                - application/json
            responses:
                201:
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    descriptiom: "Internal Server Error"

        delete:
            tags:
                - roles
            consumes:
                - application/json
            parameters:
                - in: path
                  name: role_id
                  required: true
                  type: string
            produces:
                - application/json
            responses:
                201:
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    descriptiom: "Internal Server Error"


    "/user/{user_id}/roles":
        post:
            tags:
                - user_roles
            consumes:
                - application/json
            parameters:
                - in: path
                  name: user_id
                  required: true
                  type: string

                - in: body
                  name: userRole
                  schema:
                    type: object
                    required:
                        - role_id
                    properties:
                        role_id:
                            type: string
            produces:
                - application/json
            responses:
                201:
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    descriptiom: "Internal Server Error"
        
        get:
            tags:
                - user_roles
            consumes:
                - application/json
            parameters:
                - in: path
                  name: user_id
                  required: true
                  type: string
            
            produces:
                - application/json
            responses:
                200:
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"


        delete:
            tags:
                - user_roles
            consumes:
                - application/json
            parameters:
                - in: path
                  name: user_id
                  required: true
                  type: string

                - in: body
                  name: userRole
                  schema:
                    type: object
                    required:
                        - role_id
                    properties:
                        role_id:
                            type: string
            produces:
                - application/json
            responses:
                201:
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    descriptiom: "Internal Server Error"


    "/organisations/{organisation_id}/members":
        post:
            tags:
                - organisation_members
            consumes:
                - application/json
            parameters:
                - in: path
                  name: organisation_id
                  required: true
                  type: string

                - in: body
                  name: organisation_member
                  schema:
                    type: object
                    required:
                        - user_id
                    properties:
                        user_id:
                            type: string
            produces:
                - application/json
            responses:
                201:
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    descriptiom: "Internal Server Error"
        
        get:
            tags:
                - organisation_members
            consumes:
                - application/json
            parameters:
                - in: path
                  name: organisation_id
                  required: true
                  type: string

            produces:
                - application/json
            responses:
                200:
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    descriptiom: "Internal Server Error"
        



        delete:
            tags:
                - organisation_members
            consumes:
                - application/json
            parameters:
                - in: path
                  name: organisation_id
                  required: true
                  type: string
                  
                - in: body
                  name: organisation_member
                  schema:
                    type: object
                    required:
                        - user_id
                    properties:
                        user_id:
                            type: string
            produces:
                - application/json
            responses:
                201:
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"


                
    "/organisations/{organisation_id}/admins":

        post:
            tags:
                - organisation_admins
            consumes:
                - application/json
            parameters:
                - in: path
                  name: organisation_id
                  required: true
                  type: string

                - in: body
                  name: organisation_admin
                  schema:
                    type: object
                    required:
                        - user_id
                    properties:
                        user_id:
                            type: string
            produces:
                - application/json
            responses:
                201:
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    descriptiom: "Internal Server Error"

        get:
            tags:
                - organisation_admins
            consumes:
                - application/json
            parameters:
                - in: path
                  name: organisation_id
                  required: true
                  type: string
            produces:
                - application/json
            responses:
                200:
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    description: "Internal Server Error"

        delete:
            tags:
                - organisation_admins
            consumes:
                - application/json
            parameters:
                - in: path
                  name: organisation_id
                  required: true
                  type: string

                - in: body
                  name: organisation_admin
                  schema:
                    type: object
                    required:
                        - user_id
                    properties:
                        user_id:
                            type: string
            produces:
                - application/json
            responses:
                200:
                    description: "Success"
                400:
                    description: "Bad request"
                500:
                    descriptiom: "Internal Server Error"
    
                                
                
                
